"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/USA_Protected_Areas_Fee_Manager/FeatureServer/0/query" %>%
httr::modify_url(
query = list(
f = "json",
where = "Unit_Nm='Mesa Verde National Park'",
returnGeometry = "true"
)
) %>%
sf::read_sf() %>%
sf::st_transform(4326)
"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/USA_Protected_Areas_Fee_Manager/FeatureServer/0/query" %>%
httr::modify_url(
query = list(
f = "json",
where = "Unit_Nm='Mesa Verde National Park'",
returnGeometry = "true"
)
) %>%
sf::read_sf() %>%
sf::st_transform(4326) %>%
sf::write_sf("meve.geojson")
library(magrittr)
"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/USA_Protected_Areas_Fee_Manager/FeatureServer/0/query" %>%
httr::modify_url(
query = list(
f = "json",
where = "Unit_Nm='Mesa Verde National Park'",
returnGeometry = "true"
)
) %>%
sf::read_sf() %>%
sf::st_transform(4326)
get_nps_unit <- function(unit){
"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/USA_Protected_Areas_Fee_Manager/FeatureServer/0/query" %>%
httr::modify_url(
query = list(
f = "json",
where = paste0("Unit_Nm='",unit,"'"),
returnGeometry = "true"
)
) %>%
sf::read_sf() %>%
sf::st_transform(4326)
}
get_nps_unit("Mesa Verde National Park")
get_nps_unit("Chaco Culture National Historical Park")
get_nps_unit("Chaco Culture National Historical Park") %>%
sf::write_sf("chaco.geojson")
get_nps_unit("Bandelier National Monument")
get_nps_unit("Bandelier National Monument") %>%
sf::write_sf("band.geojson")
get_nps_unit("Bears Ears National Monument")
get_nps_unit("Hopi")
get_nps_unit("Hopi") %>%
sf::write_sf("hopi.geojson")
get_nps_unit("Hopi")
get_nps_unit("Mesa Verde National Park") %>%
sf::st_geometry()
get_nps_unit("Mesa Verde National Park") %>%
sf::st_geometry() %>%
sf::write_sf("meve.geojson")
get_nps_unit("Mesa Verde National Park") %>%
sf::st_geometry() %>%
sf::write_sf("meve.geojson", delete_dsn=TRUE)
get_nps_unit("Chaco Culture National Historical Park") %>%
sf::st_geometry() %>%
sf::write_sf("chaco.geojson", delete_dsn=TRUE)
get_nps_unit("Bandelier National Monument") %>%
sf::st_geometry() %>%
sf::write_sf("band.geojson", delete_dsn=TRUE)
get_nps_unit("Hopi") %>%
sf::st_geometry() %>%
sf::write_sf("hopi.geojson", delete_dsn=TRUE)
sf::read_sf("ltvtp_hohokam.geojson") %>%
sf::st_geometry() %>%
sf::write_sf("ltvtp_hohokam.geojson", delete_dsn=TRUE)
sf::read_sf("ltvtp_hohokam.geojson")
